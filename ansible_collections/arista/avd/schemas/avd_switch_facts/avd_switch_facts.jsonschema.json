{
  "type": "object",
  "properties": {
    "switch": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "title": "Type"
        },
        "hostname": {
          "type": "string",
          "title": "Hostname"
        },
        "node_type_key": {
          "type": "string",
          "title": "Node Type Key"
        },
        "connected_endpoints": {
          "type": "boolean",
          "default": false,
          "title": "Connected Endpoints"
        },
        "default_downlink_interfaces": {
          "type": "array",
          "default": [],
          "items": {
            "type": "string"
          },
          "title": "Default Downlink Interfaces"
        },
        "default_evpn_role": {
          "type": "string",
          "default": "none",
          "title": "Default EVPN Role"
        },
        "default_interfaces": {
          "type": "object",
          "default": {},
          "title": "Default Interfaces"
        },
        "default_underlay_routing_protocol": {
          "type": "string",
          "default": "ebgp",
          "title": "Default Underlay Routing Protocol"
        },
        "default_overlay_routing_protocol": {
          "type": "string",
          "default": "ebgp",
          "title": "Default Overlay Routing Protocol"
        },
        "default_overlay_address_families": {
          "type": "array",
          "default": [
            "evpn"
          ],
          "items": {
            "type": "string"
          },
          "title": "Default Overlay Address Families"
        },
        "default_mpls_overlay_role": {
          "type": "string",
          "default": "none",
          "title": "Default MPLS Overlay Role"
        },
        "mpls_lsr": {
          "type": "boolean",
          "default": false,
          "title": "MPLS Lsr"
        },
        "mlag_support": {
          "type": "boolean",
          "default": false,
          "title": "MLAG Support"
        },
        "network_services_l1": {
          "type": "boolean",
          "default": false,
          "title": "Network Services L1"
        },
        "network_services_l2": {
          "type": "boolean",
          "default": false,
          "title": "Network Services L2"
        },
        "network_services_l3": {
          "type": "boolean",
          "default": false,
          "title": "Network Services L3"
        },
        "underlay_router": {
          "type": "boolean",
          "default": true,
          "title": "Underlay Router"
        },
        "uplink_type": {
          "type": "string",
          "default": "p2p",
          "title": "Uplink Type"
        },
        "vtep": {
          "type": "boolean",
          "default": false,
          "title": "Vtep"
        },
        "ip_addressing": {
          "type": "object",
          "default": {},
          "title": "IP Addressing"
        },
        "interface_descriptions": {
          "type": "object",
          "default": {},
          "title": "Interface Descriptions"
        },
        "group": {
          "type": "string",
          "title": "Group"
        },
        "id": {
          "type": "integer",
          "title": "ID"
        },
        "mgmt_ip": {
          "type": "string",
          "title": "Mgmt IP"
        },
        "platform": {
          "type": "string",
          "title": "Platform"
        },
        "max_parallel_uplinks": {
          "type": "integer",
          "default": 1,
          "title": "Max Parallel Uplinks"
        },
        "uplink_switches": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Uplink Switches"
        },
        "uplink_interfaces": {
          "type": "array",
          "default": [],
          "items": {
            "type": "string"
          },
          "title": "Uplink Interfaces"
        },
        "uplink_switch_interfaces": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Uplink Switch Interfaces"
        },
        "uplink_interface_speed": {
          "type": "string",
          "title": "Uplink Interface Speed"
        },
        "uplink_bfd": {
          "type": "boolean",
          "title": "Uplink BFD"
        },
        "uplink_ptp": {
          "type": "object",
          "properties": {
            "enable": {
              "type": "boolean",
              "title": "Enable"
            }
          },
          "additionalProperties": false,
          "title": "Uplink PTP"
        },
        "default_ptp_priority1": {
          "type": "integer",
          "default": 127,
          "title": "Default PTP Priority1"
        },
        "ptp": {
          "type": "object",
          "title": "PTP"
        },
        "uplink_macsec": {
          "type": "boolean",
          "title": "Uplink Macsec"
        },
        "uplink_structured_config": {
          "type": "object",
          "title": "Uplink Structured Config"
        },
        "short_esi": {
          "type": "string",
          "title": "Short Esi"
        },
        "rack": {
          "type": "string",
          "title": "Rack"
        },
        "raw_eos_cli": {
          "type": "string",
          "title": "Raw EOS CLI"
        },
        "struct_cfg": {
          "type": "object",
          "title": "Struct Cfg"
        },
        "max_uplink_switches": {
          "type": "integer",
          "title": "Max Uplink Switches"
        },
        "is_deployed": {
          "type": "boolean",
          "default": true,
          "title": "IS Deployed"
        },
        "platform_settings": {
          "type": "object",
          "default": {},
          "title": "Platform Settings"
        },
        "mgmt_interface": {
          "type": "string",
          "title": "Mgmt Interface"
        },
        "system_mac_address": {
          "type": "string",
          "title": "System MAC Address"
        },
        "underlay_routing_protocol": {
          "type": "string",
          "title": "Underlay Routing Protocol"
        },
        "overlay_routing_protocol": {
          "type": "string",
          "title": "Overlay Routing Protocol"
        },
        "overlay_address_families": {
          "type": "array",
          "default": [],
          "items": {
            "type": "string"
          },
          "title": "Overlay Address Families"
        },
        "link_tracking_groups": {
          "type": "array",
          "items": {
            "type": "object"
          },
          "title": "Link Tracking Groups"
        },
        "lacp_port_id": {
          "type": "object",
          "properties": {
            "begin": {
              "type": "integer",
              "title": "Begin"
            },
            "end": {
              "type": "integer",
              "title": "End"
            }
          },
          "additionalProperties": false,
          "title": "LACP Port ID"
        },
        "filter_tenants": {
          "type": "array",
          "default": [
            "all"
          ],
          "items": {
            "type": "string"
          },
          "title": "Filter Tenants"
        },
        "always_include_vrfs_in_tenants": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Always Include VRFs In Tenants"
        },
        "filter_tags": {
          "type": "array",
          "default": [
            "all"
          ],
          "items": {
            "type": "string"
          },
          "title": "Filter Tags"
        },
        "filter_only_vlans_in_use": {
          "type": "boolean",
          "default": false,
          "title": "Filter Only VLANs In Use"
        },
        "virtual_router_mac_address": {
          "type": "string",
          "title": "Virtual Router MAC Address"
        },
        "trunk_groups": {
          "type": "object",
          "properties": {
            "mlag": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "default": "MLAG",
                  "title": "Name"
                }
              },
              "additionalProperties": false,
              "title": "MLAG"
            },
            "mlag_l3": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "default": "LEAF_PEER_L3",
                  "title": "Name"
                }
              },
              "additionalProperties": false,
              "title": "MLAG L3"
            },
            "uplink": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "default": "UPLINK",
                  "title": "Name"
                }
              },
              "additionalProperties": false,
              "title": "Uplink"
            }
          },
          "additionalProperties": false,
          "title": "Trunk Groups"
        },
        "enable_trunk_groups": {
          "type": "boolean",
          "title": "Enable Trunk Groups"
        },
        "only_local_vlan_trunk_groups": {
          "type": "boolean",
          "title": "Only Local VLAN Trunk Groups"
        },
        "endpoint_trunk_groups": {
          "type": "array",
          "default": [],
          "title": "Endpoint Trunk Groups"
        },
        "vlans": {
          "type": "string",
          "description": "Compressed list of vlans to be defined on this switch\n\nEx. \"1-100, 201-202\"\n",
          "default": "",
          "title": "VLANs"
        },
        "spanning_tree_mode": {
          "type": "string",
          "title": "Spanning Tree Mode"
        },
        "spanning_tree_priority": {
          "type": "integer",
          "title": "Spanning Tree Priority"
        },
        "spanning_tree_root_super": {
          "type": "boolean",
          "title": "Spanning Tree Root Super"
        },
        "underlay_multicast": {
          "type": "boolean",
          "title": "Underlay Multicast"
        },
        "overlay_rd_type_admin_subfield": {
          "type": "string",
          "title": "Overlay Rd Type Admin Subfield"
        },
        "evpn_multicast": {
          "type": "boolean",
          "title": "EVPN Multicast"
        },
        "multi_vtep": {
          "type": "boolean",
          "title": "Multi Vtep"
        },
        "igmp_snooping_enabled": {
          "type": "boolean",
          "title": "IGMP Snooping Enabled"
        },
        "loopback_ipv4_pool": {
          "type": "string",
          "title": "Loopback IPv4 Pool"
        },
        "loopback_ipv4_offset": {
          "type": "integer",
          "title": "Loopback IPv4 Offset"
        },
        "uplink_ipv4_pool": {
          "type": "string",
          "title": "Uplink IPv4 Pool"
        },
        "router_id": {
          "type": "string",
          "title": "Router ID"
        },
        "evpn_gateway_vxlan_l2": {
          "type": "boolean",
          "title": "EVPN Gateway VxLAN L2"
        },
        "evpn_gateway_vxlan_l3": {
          "type": "boolean",
          "title": "EVPN Gateway VxLAN L3"
        },
        "evpn_gateway_vxlan_l3_inter_domain": {
          "type": "boolean",
          "title": "EVPN Gateway VxLAN L3 Inter Domain"
        },
        "evpn_gateway_remote_peers": {
          "type": "array",
          "items": {
            "type": "object"
          },
          "title": "EVPN Gateway Remote Peers"
        },
        "bgp_defaults": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "BGP Defaults"
        },
        "bgp_cluster_id": {
          "type": "string",
          "title": "BGP Cluster ID"
        },
        "bgp_peer_groups": {
          "type": "object",
          "title": "BGP Peer Groups"
        },
        "evpn_role": {
          "type": "string",
          "title": "EVPN Role"
        },
        "mpls_overlay_role": {
          "type": "string",
          "title": "MPLS Overlay Role"
        },
        "bgp_as": {
          "type": "string",
          "title": "BGP As"
        },
        "evpn_route_servers": {
          "type": "array",
          "default": [],
          "items": {
            "type": "string"
          },
          "title": "EVPN Route Servers"
        },
        "mpls_route_reflectors": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "MPLS Route Reflectors"
        },
        "isis_net": {
          "type": "string",
          "title": "ISIS Net"
        },
        "is_type": {
          "type": "string",
          "title": "IS Type"
        },
        "isis_instance_name": {
          "type": "string",
          "title": "ISIS Instance Name"
        },
        "node_sid": {
          "type": "string",
          "title": "Node Sid"
        },
        "underlay_ipv6": {
          "type": "boolean",
          "title": "Underlay IPv6"
        },
        "loopback_ipv6_pool": {
          "type": "string",
          "title": "Loopback IPv6 Pool"
        },
        "loopback_ipv6_offset": {
          "type": "integer",
          "title": "Loopback IPv6 Offset"
        },
        "ipv6_router_id": {
          "type": "string",
          "title": "IPv6 Router ID"
        },
        "mlag": {
          "type": "boolean",
          "title": "MLAG"
        },
        "mlag_ibgp_origin_incomplete": {
          "type": "boolean",
          "title": "MLAG Ibgp Origin Incomplete"
        },
        "mlag_peer_vlan": {
          "type": "integer",
          "title": "MLAG Peer VLAN"
        },
        "mlag_peer_link_allowed_vlans": {
          "type": "string",
          "title": "MLAG Peer Link Allowed VLANs"
        },
        "mlag_dual_primary_detection": {
          "type": "boolean",
          "title": "MLAG Dual Primary Detection"
        },
        "mlag_interfaces": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "MLAG Interfaces"
        },
        "mlag_interfaces_speed": {
          "type": "string",
          "title": "MLAG Interfaces Speed"
        },
        "mlag_peer_ipv4_pool": {
          "type": "string",
          "title": "MLAG Peer IPv4 Pool"
        },
        "mlag_peer_l3_ipv4_pool": {
          "type": "string",
          "title": "MLAG Peer L3 IPv4 Pool"
        },
        "mlag_port_channel_structured_config": {
          "type": "object",
          "title": "MLAG Port Channel Structured Config"
        },
        "mlag_peer_vlan_structured_config": {
          "type": "object",
          "title": "MLAG Peer VLAN Structured Config"
        },
        "mlag_peer_l3_vlan_structured_config": {
          "type": "object",
          "title": "MLAG Peer L3 VLAN Structured Config"
        },
        "mlag_role": {
          "type": "string",
          "title": "MLAG Role"
        },
        "mlag_peer": {
          "type": "string",
          "title": "MLAG Peer"
        },
        "mlag_l3": {
          "type": "boolean",
          "title": "MLAG L3"
        },
        "mlag_peer_l3_vlan": {
          "type": "integer",
          "title": "MLAG Peer L3 VLAN"
        },
        "mlag_port_channel_id": {
          "type": "integer",
          "title": "MLAG Port Channel ID"
        },
        "vtep_loopback_ipv4_pool": {
          "type": "string",
          "title": "Vtep Loopback IPv4 Pool"
        },
        "vtep_loopback": {
          "type": "string",
          "title": "Vtep Loopback"
        },
        "inband_management_subnet": {
          "type": "string",
          "title": "Inband Management Subnet"
        },
        "inband_management_role": {
          "type": "string",
          "title": "Inband Management Role"
        },
        "inband_management_parents": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "Inband Management Parents"
        },
        "inband_management_vlan": {
          "type": "integer",
          "title": "Inband Management VLAN"
        },
        "inband_management_ip": {
          "type": "string",
          "title": "Inband Management IP"
        },
        "inband_management_gateway": {
          "type": "string",
          "title": "Inband Management Gateway"
        },
        "inband_management_interface": {
          "type": "string",
          "title": "Inband Management Interface"
        },
        "uplinks": {
          "type": "array",
          "description": "List of uplinks with all parameters\n\nThese facts are leveraged by templates for this device when rendering uplinks\nand by templates for peer devices when rendering downlinks\n",
          "default": [],
          "items": {
            "type": "object"
          },
          "title": "Uplinks"
        },
        "uplink_peers": {
          "type": "array",
          "description": "List of all uplink peers\n\nThese are used to generate the \"avd_topology_peers\" fact covering downlinks for all devices\n",
          "default": [],
          "items": {
            "type": "string"
          },
          "title": "Uplink Peers"
        },
        "mlag_switch_ids": {
          "type": "object",
          "description": "Switch id's of both primary and secondary switches for a given node group",
          "properties": {
            "primary": {
              "type": "integer",
              "title": "Primary"
            },
            "secondary": {
              "type": "integer",
              "title": "Secondary"
            }
          },
          "additionalProperties": false,
          "title": "MLAG Switch IDs"
        },
        "vtep_ip": {
          "type": "string",
          "title": "Vtep IP"
        },
        "mlag_ip": {
          "type": "string",
          "title": "MLAG IP"
        },
        "mlag_peer_ip": {
          "type": "string",
          "title": "MLAG Peer IP"
        },
        "mlag_l3_ip": {
          "type": "string",
          "title": "MLAG L3 IP"
        },
        "mlag_peer_l3_ip": {
          "type": "string",
          "title": "MLAG Peer L3 IP"
        },
        "mlag_peer_mgmt_ip": {
          "type": "string",
          "title": "MLAG Peer Mgmt IP"
        },
        "overlay_routing_protocol_address_family": {
          "type": "string",
          "default": "ipv4",
          "title": "Overlay Routing Protocol Address Family"
        },
        "bgp": {
          "type": "boolean",
          "description": "Boolean telling if BGP Routing should be configured",
          "title": "BGP"
        },
        "evpn_encapsulation": {
          "type": "string",
          "default": "vxlan",
          "title": "EVPN Encapsulation"
        },
        "underlay": {
          "type": "object",
          "description": "Dictionary of underlay parameters to configure on the node",
          "properties": {
            "bgp": {
              "type": "boolean",
              "title": "BGP"
            },
            "ldp": {
              "type": "boolean",
              "title": "LDP"
            },
            "mpls": {
              "type": "boolean",
              "title": "MPLS"
            },
            "sr": {
              "type": "boolean",
              "title": "Sr"
            },
            "ospf": {
              "type": "boolean",
              "title": "OSPF"
            },
            "isis": {
              "type": "boolean",
              "title": "ISIS"
            }
          },
          "required": [
            "bgp",
            "ldp",
            "mpls",
            "sr",
            "ospf",
            "isis"
          ],
          "additionalProperties": false,
          "title": "Underlay"
        },
        "overlay": {
          "type": "object",
          "description": "Dictionary of overlay parameters to configure on the node",
          "properties": {
            "peering_address": {
              "type": "string",
              "title": "Peering Address"
            },
            "ler": {
              "type": "boolean",
              "title": "Ler"
            },
            "vtep": {
              "type": "boolean",
              "title": "Vtep"
            },
            "evpn": {
              "type": "boolean",
              "title": "EVPN"
            },
            "evpn_vxlan": {
              "type": "boolean",
              "title": "EVPN VxLAN"
            },
            "evpn_mpls": {
              "type": "boolean",
              "title": "EVPN MPLS"
            },
            "vpn_ipv4": {
              "type": "boolean",
              "title": "VPN IPv4"
            },
            "vpn_ipv6": {
              "type": "boolean",
              "title": "VPN IPv6"
            },
            "ipvpn_gateway": {
              "type": "boolean",
              "title": "Ipvpn Gateway"
            },
            "dpath": {
              "type": "boolean",
              "title": "Dpath"
            }
          },
          "required": [
            "ler",
            "vtep",
            "evpn",
            "evpn_vxlan",
            "evpn_mpls",
            "vpn_ipv4",
            "vpn_ipv6",
            "ipvpn_gateway",
            "dpath"
          ],
          "additionalProperties": false,
          "title": "Overlay"
        },
        "ipvpn_gateway": {
          "type": "object",
          "description": "Dictionary of ipvpn interworking gateway parameters to configure on the node",
          "properties": {
            "evpn_domain_id": {
              "type": "string",
              "default": "0:1",
              "title": "EVPN Domain ID"
            },
            "ipvpn_domain_id": {
              "type": "string",
              "default": "0:2",
              "title": "Ipvpn Domain ID"
            },
            "max_routes": {
              "type": "integer",
              "default": 0,
              "title": "Max Routes"
            },
            "local_as": {
              "type": "string",
              "title": "Local As"
            },
            "remote_peers": {
              "type": "array",
              "default": [],
              "items": {
                "type": "object"
              },
              "title": "Remote Peers"
            }
          },
          "additionalProperties": false,
          "title": "Ipvpn Gateway"
        }
      },
      "required": [
        "type",
        "hostname",
        "node_type_key",
        "default_overlay_address_families",
        "id",
        "max_uplink_switches",
        "underlay_routing_protocol",
        "overlay_routing_protocol",
        "overlay_rd_type_admin_subfield",
        "mlag",
        "bgp",
        "underlay",
        "overlay"
      ],
      "additionalProperties": false,
      "title": "Switch"
    }
  },
  "required": [
    "switch"
  ],
  "additionalProperties": true
}